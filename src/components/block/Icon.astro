---
/**
 * We use this custom Icon wrapper because Astro Icon (https://www.astroicon.dev/)
 * will inline references using the "use" HTML element and that can conflict with 
 * existing references, making icons not render. This simpler solution just inlines
 * the SVG right into the page.
 * 
 * Its semantics are similar:
 * 
 * 1) Place your SVG files into /src/icons and name them with an ".svg" extension
 * 2) Use like this, if you want to use /src/icons/search.svg: <Icon name="search" class="w-4 h-4" /> 
 * 3) You can pass along classes or other attributes as shown above.
 */
const { name, ...attrs } = Astro.props;
const icons = import.meta.glob('/src/icons/*.svg', { eager: true });
const mod = icons[`/src/icons/${name}.svg`];
if (!mod) throw new Error(`Icon ${name} not found`);
const Svg = mod.default;
---
<Svg {...attrs} aria-hidden="true" />
