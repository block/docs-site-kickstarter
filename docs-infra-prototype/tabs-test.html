<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabs Component Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                    },
                }
            }
        }
    </script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --muted: 210 40% 98%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
        }
        
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 47.4% 11.2%;
        }
    </style>
</head>
<body class="min-h-screen bg-background font-sans antialiased">
    <main class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold mb-8">Tabs Component Test</h1>
        
        <div class="max-w-2xl">
            <div class="flex flex-col w-full" id="tabs-test" data-default-value="account">
                <!-- Tabs List -->
                <nav role="tablist" aria-orientation="horizontal" class="inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2">
                    <button 
                        type="button" 
                        role="tab" 
                        id="tab-account"
                        data-value="account"
                        aria-controls="panel-account"
                        aria-selected="false"
                        tabindex="-1"
                        data-state="inactive"
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"
                    >
                        Account
                    </button>
                    <button 
                        type="button" 
                        role="tab" 
                        id="tab-password"
                        data-value="password"
                        aria-controls="panel-password"
                        aria-selected="false"
                        tabindex="-1"
                        data-state="inactive"
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"
                    >
                        Password
                    </button>
                </nav>
                
                <!-- Account Tab Content -->
                <div 
                    role="tabpanel" 
                    id="panel-account"
                    data-content-value="account"
                    aria-labelledby="tab-account"
                    tabindex="-1"
                    aria-selected="false"
                    hidden
                    class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4"
                >
                    <div class="space-y-2">
                        <h3 class="text-lg font-medium">Account Settings</h3>
                        <p class="text-sm text-muted-foreground">
                            Make changes to your account here. Click save when you're done.
                        </p>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="space-y-2">
                            <label for="name" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                                Name
                            </label>
                            <input
                                id="name"
                                type="text"
                                placeholder="Enter your name"
                                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                            />
                        </div>
                        
                        <div class="space-y-2">
                            <label for="username" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                                Username
                            </label>
                            <input
                                id="username"
                                type="text"
                                placeholder="Enter your username"
                                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                            />
                        </div>
                        
                        <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
                            Save changes
                        </button>
                    </div>
                </div>
                
                <!-- Password Tab Content -->
                <div 
                    role="tabpanel" 
                    id="panel-password"
                    data-content-value="password"
                    aria-labelledby="tab-password"
                    tabindex="-1"
                    aria-selected="false"
                    hidden
                    class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4"
                >
                    <div class="space-y-2">
                        <h3 class="text-lg font-medium">Password Settings</h3>
                        <p class="text-sm text-muted-foreground">
                            Change your password here. After saving, you'll be logged out.
                        </p>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="space-y-2">
                            <label for="current" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                                Current password
                            </label>
                            <input
                                id="current"
                                type="password"
                                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                            />
                        </div>
                        
                        <div class="space-y-2">
                            <label for="new" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                                New password
                            </label>
                            <input
                                id="new"
                                type="password"
                                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                            />
                        </div>
                        
                        <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
                            Save password
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Initialize tabs when the component loads
        document.addEventListener('DOMContentLoaded', () => {
            const tabsContainers = document.querySelectorAll('[data-default-value]');
            
            tabsContainers.forEach(container => {
                const defaultValue = container.getAttribute('data-default-value');
                
                // Add click event listeners to all tab triggers
                const triggers = container.querySelectorAll('[role="tab"]');
                triggers.forEach(trigger => {
                    trigger.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetValue = trigger.getAttribute('data-value');
                        if (targetValue && !trigger.disabled) {
                            activateTab(container, targetValue);
                        }
                    });
                    
                    // Add keyboard navigation
                    trigger.addEventListener('keydown', (e) => {
                        const currentIndex = Array.from(triggers).indexOf(trigger);
                        let nextIndex = currentIndex;
                        
                        switch (e.key) {
                            case 'ArrowRight':
                            case 'ArrowDown':
                                e.preventDefault();
                                nextIndex = (currentIndex + 1) % triggers.length;
                                break;
                            case 'ArrowLeft':
                            case 'ArrowUp':
                                e.preventDefault();
                                nextIndex = (currentIndex - 1 + triggers.length) % triggers.length;
                                break;
                            case 'Home':
                                e.preventDefault();
                                nextIndex = 0;
                                break;
                            case 'End':
                                e.preventDefault();
                                nextIndex = triggers.length - 1;
                                break;
                            case 'Enter':
                            case ' ':
                                e.preventDefault();
                                const targetValue = trigger.getAttribute('data-value');
                                if (targetValue && !trigger.disabled) {
                                    activateTab(container, targetValue);
                                }
                                return;
                            default:
                                return;
                        }
                        
                        const nextTrigger = triggers[nextIndex];
                        if (nextTrigger && !nextTrigger.disabled) {
                            nextTrigger.focus();
                        }
                    });
                });
                
                // Set initial state
                if (defaultValue) {
                    activateTab(container, defaultValue);
                } else if (triggers.length > 0) {
                    // If no default value, activate the first non-disabled tab
                    const firstEnabledTrigger = Array.from(triggers).find(t => !t.disabled);
                    if (firstEnabledTrigger) {
                        const firstValue = firstEnabledTrigger.getAttribute('data-value');
                        if (firstValue) {
                            activateTab(container, firstValue);
                        }
                    }
                }
            });
        });
        
        function activateTab(container, value) {
            // Reset all tabs
            const allTriggers = container.querySelectorAll('[role="tab"]');
            const allContents = container.querySelectorAll('[role="tabpanel"]');
            
            allTriggers.forEach(trigger => {
                trigger.setAttribute('aria-selected', 'false');
                trigger.setAttribute('tabindex', '-1');
                trigger.setAttribute('data-state', 'inactive');
                // Remove active state classes
                trigger.classList.remove('bg-background', 'text-foreground', 'shadow-sm');
            });
            
            allContents.forEach(content => {
                content.setAttribute('aria-selected', 'false');
                content.setAttribute('hidden', '');
            });
            
            // Activate target tab
            const targetTrigger = container.querySelector(`[data-value="${value}"]`);
            const targetContent = container.querySelector(`[data-content-value="${value}"]`);
            
            if (targetTrigger && targetContent) {
                targetTrigger.setAttribute('aria-selected', 'true');
                targetTrigger.setAttribute('tabindex', '0');
                targetTrigger.setAttribute('data-state', 'active');
                // Add active state classes
                targetTrigger.classList.add('bg-background', 'text-foreground', 'shadow-sm');
                
                targetContent.setAttribute('aria-selected', 'true');
                targetContent.removeAttribute('hidden');
            }
        }
    </script>
</body>
</html>
